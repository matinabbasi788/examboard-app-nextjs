# ๐ ุฑุงูููุง ุณุฑุน: ฺุทูุฑ ุฏุงุฏูโูุง ููุงุด ุฏุงุฏู ุดููุฏ

## ูุดฺฉู: ฺฏุฒุงุฑุดโูุง ุฎุงู ูุณุชูุฏ

ููฺฉู ุงุณุช ุจุง ฺฉ ุงุฒ ุงู ูุณุงุฆู ุฑูุจุฑู ุดุฏู ุจุงุดุฏ:

## โ ุญู ูุฑุญููโุจูโูุฑุญูู

### ูุฑุญูู 1: ุณุฑูุฑ ุฑุง ุดุฑูุน ฺฉูุฏ
```bash
cd nextjs-dashboard
pnpm dev
```

ููุชุธุฑ ุจูุงูุฏ ุชุง ุงู ูพุงู ุธุงูุฑ ุดูุฏ:
```
ready - started server on 0.0.0.0:3000
```

ุณูพุณ ุจู `http://localhost:3000` ุจุฑุฏ.

---

### ูุฑุญูู 2: ูุงฺฏู ฺฉูุฏ (ุงฺฏุฑ ูุงฺฏู ูฺฉุฑุฏุฏ)

ุงฺฏุฑ ุตูุญู ุจู ุตูุฑุช ุฎุงู ุงุณุช ุง ฺฏุฒุงุฑุดโูุง ุจุงุฑ ููโุดููุฏ:

1. ุจู ุขุฏุฑุณ ุจุฑุฏ: `http://localhost:3000`
2. ุงฺฏุฑ ฺฏุฒูู login ุฏุฏุฏุ ฺฉูฺฉ ฺฉูุฏ
3. ูุงูโฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ
4. ุณุณุชู ุจุงุฏ token ุฏุฑ `localStorage` ุฐุฎุฑู ฺฉูุฏ

**ุชุฃุฏ**: ุฏุฑ Developer Tools (F12):
```javascript
localStorage.getItem('accessToken')
```
ุจุงุฏ ฺฉ ุฑุดุชู ุทูู (token) ูุดุงู ุฏูุฏุ ูู `null`.

---

### ูุฑุญูู 3: ุงุทููุงู ุญุงุตู ฺฉูุฏ API ููุฌูุฏ ุงุณุช

API ุจุงุฏ ุฏุฑ `http://localhost:8000` ุง custom URL ุงุฌุฑุง ุดูุฏ.

**ุจุฑุฑุณ ุจุง curl** (Terminal ุฏฺฏุฑ):
```bash
# ุฌุงฺฏุฒู YOUR_TOKEN ุจุง token ูุงูุน:
curl -H "Authorization: Bearer YOUR_TOKEN" http://localhost:8000/api/terms/

# ุง ุจุฏูู ุงุญุฑุงุฒ (ุงฺฏุฑ API ุจุฏูู ุถุฑูุฑุช token ุจุงุดุฏ):
curl http://localhost:8000/api/terms/
```

ุงฺฏุฑ ูพุงุณุฎ JSON ุงุณุช (ูู Error 401/403)ุ ุฎูุจ ุงุณุช!

---

### ูุฑุญูู 4: ุงุทููุงู ุญุงุตู ฺฉูุฏ ุฏุงุฏูโูุง ุฏุฑ API ููุฌูุฏ ุงุณุช

**ุจุฑุง ฺฏุฒุงุฑุดโูุง ฺฉุงุฑ ฺฉููุฏุ ุญุฏุงูู ูุงุฒ ุจู:**

1. **ุญุฏุงูู 1 ุชุฑู**
   ```bash
   curl -H "Authorization: Bearer TOKEN" http://localhost:8000/api/terms/
   # ุจุงุฏ ูพุงุณุฎ ุดุงูู id, name, ... ุจุงุดุฏ
   ```

2. **ุญุฏุงูู 1 ุงูุชุญุงู**
   ```bash
   curl -H "Authorization: Bearer TOKEN" http://localhost:8000/api/exams/
   # expected_students ู term id ุจุงุฏ ููุฌูุฏ ุจุงุดูุฏ
   ```

3. **ุญุฏุงูู 1 ุณุงูู**
   ```bash
   curl -H "Authorization: Bearer TOKEN" http://localhost:8000/api/rooms/
   # name ู capacity ุจุงุฏ ููุฌูุฏ ุจุงุดูุฏ
   ```

4. **ุญุฏุงูู 1 ุงุฎุชุตุงุต (Allocation)**
   ```bash
   curl -H "Authorization: Bearer TOKEN" http://localhost:8000/api/allocations/
   # exam, room, start_at, allocated_seats ุจุงุฏ ููุฌูุฏ ุจุงุดูุฏ
   ```

---

## ๐ง ุงฺฏุฑ ุฏุงุฏูโูุง ููุฌูุฏ ูุณุชูุฏ

### ฺฏุฒูู A: ุงุณุชูุงุฏู ุงุฒ Seed Script (ุงฺฏุฑ ููุฌูุฏ ุงุณุช)

ุจุณุงุฑ ุงุฒ API ูุง seed endpoint ุฏุงุฑูุฏ:
```bash
curl -X POST http://localhost:8000/api/seed/ \
  -H "Authorization: Bearer TOKEN" \
  -H "Content-Type: application/json"
```

### ฺฏุฒูู B: ุงุฌุงุฏ ุฏุณุช

ูุซุงู ุงุณุชูุงุฏู ุงุฒ Django Admin ุง Postman:

**1. ุงุฌุงุฏ ุชุฑู:**
```json
POST /api/terms/
{
  "name": "ูพุงุฒ 1403",
  "code": "FA-1403",
  "is_published": true
}
```

**2. ุงุฌุงุฏ ุณุงูู:**
```json
POST /api/rooms/
{
  "name": "ุณุงูู ุงูู",
  "capacity": 120
}
```

**3. ุงุฌุงุฏ ุงูุชุญุงู:**
```json
POST /api/exams/
{
  "title": "ุฑุงุถ ุนููู",
  "course_code": "MATH101",
  "term": 1,
  "expected_students": 80,
  "duration_minutes": 120
}
```

**4. ุงุฎุชุตุงุต ุงูุชุญุงู ุจู ุณุงูู:**
```json
POST /api/allocations/
{
  "exam": 1,
  "room": 1,
  "start_at": "2024-01-20T09:00:00Z",
  "allocated_seats": 80
}
```

---

## ๐ฏ ฺฺฉโูุณุช ุชฺฉูู

- [ ] ุณุฑูุฑ Next.js ุฏุฑุญุงู ุงุฌุฑุง ุงุณุช (`pnpm dev`)
- [ ] `localStorage.accessToken` ููุฌูุฏ ุงุณุช (ูุงฺฏู ุงูุฌุงู ุดุฏู)
- [ ] API ุฏุฑ `http://localhost:8000` (ุง custom URL) ุฏุฑุญุงู ุงุฌุฑุง ุงุณุช
- [ ] ุญุฏุงูู ฺฉ ุชุฑู ุฏุฑ `/api/terms/` ููุฌูุฏ ุงุณุช
- [ ] ุญุฏุงูู ฺฉ ุณุงูู ุฏุฑ `/api/rooms/` ููุฌูุฏ ุงุณุช
- [ ] ุญุฏุงูู ฺฉ ุงูุชุญุงู ุฏุฑ `/api/exams/` ููุฌูุฏ ุงุณุช
- [ ] ุญุฏุงูู ฺฉ ุงุฎุชุตุงุต ุฏุฑ `/api/allocations/` ููุฌูุฏ ุงุณุช

---

## ๐ฒ ุงฺฏุฑ ุฏุงุฏูโูุง ุจุงุฑ ุดุฏูุฏ

ุชุฑุชุจ ฺฉูฺฉ:
1. ุตูุญู ุงุตู: `http://localhost:3000`
2. ฺฉุงุฑุช "ฺฏุฒุงุฑุด ุธุฑูุช ูุถุงูุง" ุง ููฺฉ ูุณุชูู: `/reports/capacity`
3. ุงูุชุฎุงุจ ุชุฑู ุงุฒ dropdown
4. ุจุฑุฑุณ ุฌุฏูู ุจุฑุง ุฏุงุฏูโูุง

---

## ๐ ุฑูุน ูุดฺฉู (Debugging)

### 1. ฺฉูุณูู Developer Tools (F12)
```javascript
// ุจุฑุฑุณ token:
console.log(localStorage.getItem('accessToken'))

// ุจุฑุฑุณ API:
fetch('http://localhost:8000/api/terms/', {
  headers: { 'Authorization': 'Bearer ' + localStorage.getItem('accessToken') }
}).then(r => r.json()).then(console.log)
```

### 2. Network Tab (F12 โ Network)
- ุฏูุจุงู ฺฉุฑุฏู `GET /api/terms/` ู ุฏฺฏุฑ ุฏุฑุฎูุงุณุชโูุง
- ุจุฑุฑุณ Status Code:
  - โ 200 = ูููู
  - โ 401 = token ุบุฑ ููุซุฑ
  - โ 403 = ุงุฌุงุฒู ูุฏุงุฑุฏ
  - โ 404 = Endpoint ููุฌูุฏ ูุณุช

### 3. Browser Console Errors
ุงฺฏุฑ ุฎุทุง TypeScript/JavaScript ุงุณุช:
```
ReferenceError: getTerms is not defined
โ ุจุฑุฑุณ import ุฏุฑ ุตูุญู
```

---

## ๐ ุณูุงูุงุช ูุชุฏุงูู

**Q: "No access token" error**
A: ูุงฺฏู ฺฉูุฏ. ุตูุญู login ุจุงุฏ ููุฌูุฏ ุจุงุดุฏ ุง ููฺฉโูุง ุฏุงุดุชู ุจุงุดุฏ.

**Q: "Failed to fetch terms"**
A: ุจุฑุฑุณ ฺฉูุฏ:
- API ุณุฑูุฑ ุฏุฑุญุงู ุงุฌุฑุง ุงุณุชุ
- NEXT_PUBLIC_API_URL ุตุญุญ ุงุณุชุ
- Network ูฺบ ูุดฺฉู ุงุณุชุ

**Q: ุฏุงุฏูโูุง ุจุงุฑ ุดุฏูุฏ ุงูุง ุฌุฏูู ุฎุงู ุงุณุช**
A: ุงุญุชูุงูุงู:
- ุชุฑู ุงูุชุฎุงุจ ูุดุฏู (dropdown)
- ุงูุชุญุงูุงุช ุงู ุชุฑู ุงุฎุชุตุงุต ูุฏุงุฑูุฏ
- Allocation.room ุง expected_students ุฎุงู ุงุณุช

---

## โจ ูุชุฌู ููุง

ููุช ุงู ูุฑุงุญู ฺฉุงูู ุดููุฏุ ุจุงุฏ ุงู ุฑุง ุจุจูุฏ:

### ฺฏุฒุงุฑุด ุธุฑูุช:
```
๐ ฺฏุฒุงุฑุด ุธุฑูุช ูุถุงูุง
โโโโโโโโโโโโโโโโโโโโโโโโโโโโ
| ุงูุชุญุงู | ุฏุงูุดุฌู | ุณุงูู | ุฏุฑุตุฏ |
| ุฑุงุถ  |   80   | ุงูู  | 67% |
| ูุฒฺฉ  |   120  | ุจ    | โ |
```

### ฺฏุฒุงุฑุด ุชุฏุงุฎู:
```
โ๏ธ ุชุฏุงุฎูโูุง ุงูุชุดุฏู: 0
(ุง ูุณุช ุชุฏุงุฎูุงุช)
```

### ฺฏุฒุงุฑุด ุงุณุชูุงุฏู:
```
๐ ุงุณุชูุงุฏู ุงุฒ ูฺฉุงูโูุง
โโโโโโโโโโโโโโโโโโโโ
ุณุงูู ุงูู: 67% โโโโโโโโโโ
ุณุงูู ุจ:   85% โโโโโโโโโโ
```

---

**ุงฺฏุฑ ุงูุทูุฑ ุดุฏุ ุชูุงู ฺุฒ ูููู ุงุณุช! โ**
